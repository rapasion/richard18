---
 - name: unarchive curl file
   unarchive:
     src: "{{ gml_source_path }}/download/{{ curl_gml_source_file }}"
     dest: "{{ gml_source_path }}/"
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: "0750"
     remote_src: yes
   tags:
    - curl_tar_file

 - name: Check {{ gml_source_path }}/lib folder if exist.
   stat:
     path: "{{ gml_source_path }}/lib"
   register: gml_source_lib
   tags:
    - curl_tar_file

 - name: Create {{ gml_source_path }}/lib folder if not exist.
   file:
     path: "{{ gml_source_path }}/lib"
     state: directory
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: "0750"
   when: not gml_source_lib.stat.exists
   tags:
    - curl_tar_file

 - name: Check {{ gml_source_path }}/lib/pkgconfig folder if exist.
   stat:
     path: "{{ gml_source_path }}/lib/pkgconfig"
   register: gml_source_lib_pkgconfig
   tags:
    - curl_tar_file

 - name: Create {{ gml_source_path }}/lib/pkgconfig folder if not exist.
   file:
     path: "{{ gml_source_path }}/lib/pkgconfig"
     state: directory
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: "0750"
   when: not gml_source_lib_pkgconfig.stat.exists
   tags:
    - curl_tar_file
