---
 - name: Check startup folder exists.
   stat:
      path: "/export/home/gml_source/startup"
   register: register_startup_folder
   tags:
      - startup

 - name: Create startup folder.
   file:
     path: "/export/home/gml_source/startup"
     state: directory
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: '0750'
   when: not register_startup_folder.stat.exists
   tags:
      - startup

 - name: Check shared_drive folder exists.
   stat:
      path: "/export/home/shared_drive"
   register: register_startup_folder
   tags:
      - startup

 - name: Create shared_drive folder.
   file:
     path: "/export/home/shared_drive"
     state: directory
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: '0750'
   when: not register_startup_folder.stat.exists
   tags:
      - startup

 - name: Check shared drive log backup if exists
   stat:
      path: "/export/home/shared_drive/log_backup"
   register: register_shared_drive_log_backup_dir
   
 - name: Create shared drive log backup folder
   file:
     path: "/export/home/shared_drive/log_backup"
     state: directory
     owner: "{{ code_user }}"
     group: "{{ code_user }}"
     mode: '0750'
   when: not register_shared_drive_log_backup_dir.stat.exists
   tags:
      - startup   

#    - import_tasks: startup.yml
#      tags: 
#         - startup
